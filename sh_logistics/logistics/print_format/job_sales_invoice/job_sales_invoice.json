{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2022-06-08 07:49:51.809229",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "{% set company = frappe.get_doc(\"Company\", doc.company)%}\n{% if (doc.company_address) %}\n{% set supplier_address_doc = frappe.get_doc('Address', doc.company_address) %}\n{% endif %}\n\n{% if(doc.customer_address) %}\n{% set customer_address = frappe.get_doc('Address', doc.customer_address ) %}\n{% endif %}\n\n{% if(doc.shipping_address_name) %}\n{% set customer_shipping_address = frappe.get_doc('Address', doc.shipping_address_name ) %}\n\n\n{% endif %}\n{% set job = frappe.get_doc('Job', doc.job ) %}\n<div class=\"page-break\" style=\"display: flex; flex-direction: column; flex: 1 1 0%;\">\n    \n   \n<div id=\"header-html\" class=\"hidden-pdf\">\n\n\n    <div class=\"print-heading\">\n        <div class=\"letter-head\">\n            {% if letter_head and not no_letterhead -%}\n            {% if print_settings.repeat_header_footer %}\n            {{ letter_head }}\n            {%- endif %}{%- endif %}\n            <div class=\"row\">\n                <div class=\"col-xs-12\">\n\n                    {% if (doc.status == 'Draft') %}\n                    <h3 class=\"invoice-heading\">DRAFT </h3>\n                    {%else%}\n                    <h3 class=\"invoice-heading\">TAX INVOICE </h3>\n                    {%endif%}\n\n                </div>\n\n\n              \n            </div>\n        </div>\n    </div>\n</div>\n    \n\n    <div class=\"ksa-vat-format\">\n\n\n\n        <div class=\"row\">\n            <div class=\"col col-xs-6\">\n\n\n                {% set customer_tax_id = frappe.db.get_value('Customer', doc.customer, 'tax_id') %}\n\n                <h4> Customer</h4>\n\n                <b>{{ doc.customer }}</b>\n                {% if(customer_address) %}\n                <p>\n\n                    {{ customer_address.address_line1}} ,{{customer_address.city }}\n                </p>\n                {%endif %}\n\n\n                <br>\n                TIN: {{ customer_tax_id }}\n\n\n            </div>\n            <div class=\"col col-xs-6\">\n                <table class=\"table table-responsive  table-bordered\">\n                    <tr>\n                        <td>Date</td>\n                        <td>{{doc.posting_date }}</td>\n                    </tr>\n\n                    <tr>\n                        \n                        <td>Invoice No</td>\n                        <td>{{  doc.name if doc.status != 'Draft' else '' }}</td>\n                    </tr>\n                    <tr>\n                        <td>Ref No</td>\n                        <td>{{doc.ref_no or ''}}</td>\n                    </tr>\n                    <tr>\n                        <td>Job</td>\n                        <td>{{job.name or ''}}</td>\n                    </tr>\n                    \n\n                </table>\n            </div>\n            \n{% if(job) %}\n\n\n\n            <div class=\"col col-xs-12 \">\n                <table class=\"table table-responsive table-condensed  table-bordered\" id=\"job-table\">\n\n\n                    <tr>\n                        <td class=\"col-xs-1\">Origin</td>\n                        <td class=\"col-xs-5\">{{job.origin or ''}}</td>\n                        <td class=\"col-xs-1\">Destination</td>\n                        <td class=\"col-xs-5\">{{job.destination or ''}}</td>\n                    </tr>\n                    <tr>\n                        <td>Shipper</td>\n                        <td>{{job.shipper or ''}}</td>\n\n                        <td>Consignee</td>\n                        <td>{{job.consignee or ''}}</td>\n                    </tr>\n                    <tr>\n                        <td>Vessel</td>\n                        <td>{{job.vessel or ''}}</td>\n\n                        <td>Voyage</td>\n                        <td>{{job.voyage or ''}}</td>\n                    </tr>\n                    <tr>\n                        <td>ETA</td>\n                        <td>{{job.eta or ''}}</td>\n\n                        <td>ETD</td>\n                        <td>{{job.etd  or ''}}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"col-xs-1\">BL</td>\n                        <td class=\"col-xs-5\" style=\"word-break: break-word;\">{{job.bl_no  or ''}}</td>\n\n                        <td class=\"col-xs-1\">BOE</td>\n                        <td class=\"col-xs-5\" style=\"word-break: break-word;\">{{job.boe_no  or ''}}</td>\n                    </tr>\n                </table>\n          \n             {%- if job.shipment_detail -%}\n        \n        \n            \n                <table class=\"table table-responsive  table-bordered\" id=\"package-table\">\n                    <tr>\n                        <th>Container No</th>\n                        <th>Type</th>\n                        <th>Description</th>\n                        <th>Pieces</th>\n                        <th>Packages</th>\n                          <th>Weight</th>\n                        <th>Volume</th>\n                       \n                    </tr>\n                    {%- for item in job.shipment_detail -%}\n                    <tr>\n                        <td>{{item.container_no or ''}}</td>\n                        <td>{{item.container_type or ''}}</td>\n                        <td>{{item.description or ''}}</td>\n                        <td>{{item.no_of_pcs or ''}}</td>\n                        <td>{{item.package or ''}} </td>\n                          <td>{{item.gross_wt or ''}}</td>\n                        <td> {{item.volume or ''}}</td>\n                      \n                    </tr>\n                    {% endfor %}\n                </table>\n                    {%- endif -%}\n            </div>\n        \n        </div>\n\n\n{% endif %}\n        <!--Dynamic Colspan for total row columns-->\n        {% set col = namespace(one = 2, two = 1) %}\n        {% set length = doc.taxes | length %}\n        {% set length = length / 2 | round %}\n        {% set col.one = col.one + length %}\n        {% set col.two = col.two + length %}\n\n        {%- if(doc.taxes | length % 2 > 0 ) -%}\n        {% set col.two = col.two + 1 %}\n        {% endif %}\n\n        <!-- Items -->\n        {% set total = namespace(amount = 0) %}\n        <table class=\"table table-bordered table-responsive\" style=\"font-size: 7pt;\n    font-weight: bold;\">\n            <thead>\n                <tr>\n                    <th style=\"width: 5%\">S.No </th>\n                    <th class=\"\" style=\"width: 40%\">\n                        Description\n\n                    </th>\n\n                    <th class=\"text-right\" style=\"width: 7%\">\n                        Quantity\n                    </th>\n                    <th class=\"text-right\" style=\"width: 10%\">\n                        Price/ Unit\n                    </th>\n\n                    <th class=\"text-right\" style=\"width: 12%\">\n                        Amount\n                    </th>\n\n                     <th class=\"text-right\" style=\"width: 10%\">\n                    VAT\n\n                </th> \n\n                    <th class=\"text-right\" style=\"width: 15%\">\n                        Total ({{doc.currency}}) <br />\n\n                    </th>\n                </tr>\n            </thead>\n            <tbody>\n\n                {%- for item in doc.items -%}\n                {% set total.amount = item.amount %}\n\n                <tr>\n                    <td>{{loop.index}}</td>\n\n\n\n                    <td>{{ item.description or item.item_name }}</td>\n\n                    <td class=\"text-right\">{{ item.qty |int}}</td>\n                    <td class=\"text-right\">{{frappe.utils.fmt_money(item.rate, precision=2, currency='')}}</td>\n\n                    <td class=\"text-right\">{{frappe.utils.fmt_money(item.amount, precision=2, currency='')}}</td>\n\n\n\n                    {% for row in doc.taxes %}\n                    {% set data_object = json.loads(row.item_wise_tax_detail) %}\n                    {% set key = item.item_code or item.item_name %}\n                    {% set tax_amount = frappe.utils.flt(data_object[key][1]/doc.conversion_rate,\n                    row.precision('tax_amount')) %}\n                    <!--  <td>\n                    <div class=\"text-right qr-flex\">\n\n                        {%- if(data_object[key][1])-%}\n                        {{ frappe.format_value(tax_amount) }}\n                        {% set total.amount = total.amount + tax_amount %}\n                        {%- endif -%}\n\n                    </div>\n                </td> -->\n                    {% endfor %}\n\n\n  <td class=\"text-right\">\n  \n                    {{item.tax_amount}}\n                </td>\n\n                    <td class=\"text-right\">\n                        {{frappe.utils.fmt_money(total.amount , precision=2, currency='')}}\n                    </td>\n                </tr>\n                {%- endfor -%}\n            </tbody>\n\n        </table>\n        <div class=\"row\">\n            <div class=\"col col-xs-7\">\n\n                <p> <b>{{ frappe.utils.money_in_words(doc.grand_total ,doc.currency)}}</b> </p>\n            </div>\n            <div class=\"col col-xs-5 \">\n                <table class=\"table-total pull-right\">\n\n\n                    <tr>\n                        <td style=\"width: 100px\"><b> Taxable Amt</b></td>\n                        <td class=\"text-right\"> {{ doc.get_formatted(\"total\") }} </td>\n\n                    </tr>\n                    {% for row in doc.taxes %}\n                    <tr>\n                        <td><b>{{row.description }}</b> </td>\n                        <td class=\"text-right\"> {{row.get_formatted(\"tax_amount\")}}</td>\n                    </tr>\n\n                    {% endfor %}\n\n                    <tr>\n                        <td><b>Total </b></td>\n                        <td class=\"text-right\">{{ doc.get_formatted(\"grand_total\") }}</td>\n                    </tr>\n\n\n\n                </table>\n            </div>\n        </div>\n\n        \n    </div>\n\n\n\n    <div class=\"row\" style=\"font-size: 10px;\">\n        <div class=\"col col-xs-6\">\n        {%- if doc.terms -%}\n        <p>\n            {{doc.terms}}\n        </p>\n        {%- endif -%}\n        </div>\n        <div class=\"col col-xs-6\">\n            <p> In case of any discrepancy on above invoice amount please notify whithin 5 days. If\n                not this invoice will be\n                presumed to bin order</p>\n            <p>This is a computer generated document and no signature required</p>\n        </div>\n\n    </div>\n\n\n\n    <div id=\"footer-html\" class=\"\">\n        <span>{{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}</span>\n\n    </div>\n\n</div>",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2022-06-08 07:57:44.556732",
 "modified_by": "Administrator",
 "module": "Logistics",
 "name": "Job Sales Invoice",
 "owner": "Administrator",
 "parent": "Sales Invoice",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}